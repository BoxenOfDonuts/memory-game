(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],[,,,,,,,,,,,,function(e,c,t){},function(e,c,t){},function(e,c,t){},,function(e,c,t){},function(e,c,t){},function(e,c,t){"use strict";t.r(c);var n=t(1),a=t.n(n),r=t(7),o=t.n(r),i=(t(12),t(13),t(14),t(0)),s=function(e){return Object(i.jsx)("div",{className:"header",children:Object(i.jsx)("h1",{children:e.title})})},u=t(2),l=t(6),j=(t(16),function(e){var c=e.imageURL,t=e.cardName,n=e.id,a=e.onCardClick;return Object(i.jsx)("figure",{className:"game-card",onClick:function(){return a(n)},children:Object(i.jsx)("img",{src:c,alt:t})})}),d=(t(17),function(e){console.log("shufflin");for(var c=Object(l.a)(e),t=c.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[c[n],c[t]];c[t]=a[0],c[n]=a[1]}return c}),b=function(e){var c=e.score,t=e.highScore;return Object(i.jsx)("div",{className:"scoreboard",children:Object(i.jsxs)("h3",{children:["Score: ",c," High Score: ",t]})})},f=function(e){var c=e.onCardClick,t=e.isNewGame,a=e.numberOfCards,r=function(e,c){var t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],o=a[1],i=Object(n.useState)(null),s=Object(u.a)(i,2),l=s[0],j=s[1];return Object(n.useEffect)((function(){o(!0),fetch("https://db.ygoprodeck.com/api/v7/cardinfo.php?cardsetocg=Vol.1").then((function(e){if(!e.ok)throw new Error("Failed to fetch.");return e.json()})).then((function(e){j(e),o(!1)})).catch((function(e){console.log(e),o(!1)}))}),c),[r,l]}(0,[t]),o=Object(u.a)(r,2),s=o[0],l=o[1],b=Object(n.useState)(null),f=Object(u.a)(b,2),O=f[0],m=f[1];console.log("loading ".concat(s)),Object(n.useEffect)((function(){if(console.log("mounting!"),l){var e=(t=l.data,n=a,d(t).slice(0,n));m(e.map((function(e){return Object(i.jsx)(j,{imageURL:e.card_images[0].image_url_small,cardName:e.name,id:e.id,onCardClick:c},e.id)})))}var t,n}),[s]);var h=Object(i.jsx)("div",{className:"loading",children:"Loading..."});return s||t||!O||(h=d(O)),Object(i.jsx)("div",{className:"game-board",children:h})},O=function(e){var c=Object(n.useState)(0),t=Object(u.a)(c,2),a=t[0],r=t[1],o=Object(n.useState)(0),s=Object(u.a)(o,2),j=s[0],d=s[1],O=Object(n.useState)([]),m=Object(u.a)(O,2),h=m[0],g=m[1],v=Object(n.useState)(!1),x=Object(u.a)(v,2),p=x[0],C=x[1],S=Object(n.useRef)();Object(n.useEffect)((function(){S.current=h})),Object(n.useEffect)((function(){p&&(console.log("is new game udpated"),a>j&&d(a),r(0),g([]),C(!1))}),[p]);return Object(i.jsxs)("div",{className:"board",children:[Object(i.jsx)(b,{score:a,highScore:j}),Object(i.jsx)(f,{onCardClick:function(e){console.log("handle click ".concat(S.current)),S.current.includes(e)?(console.log("you lose!"),C(!0)):(g((function(c){return[].concat(Object(l.a)(c),[e])})),r((function(e){return e+1})))},isNewGame:p,clickedCards:h,numberOfCards:18})]})},m=function(){return Object(i.jsxs)("div",{className:"main-app",children:[Object(i.jsx)(s,{title:"Memory Game"}),Object(i.jsx)(O,{})]})};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(m,{})}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.ceb6cdcb.chunk.js.map