{"version":3,"sources":["components/Header/Header.js","components/Card/Card.js","components/Board/Board.js","components/hooks/http.js","App.js","index.js"],"names":["Header","props","className","title","Card","imageURL","cardName","id","onCardClick","onClick","src","alt","shuffle","array","newArray","i","length","j","Math","floor","random","ScoreBoard","score","highScore","GameBoard","newGameCount","numberOfCards","url","dependencies","useState","isLoading","setIsLoading","fetchData","setFetchedData","useEffect","fetch","then","response","ok","Error","json","data","catch","error","console","log","useHttp","fetchedData","gameCards","setGameCards","cards","desiredLength","slice","map","card","card_images","image_url_small","name","content","Board","setScore","setHighScore","clickedCards","setClickedCards","setNewGameCount","prevClickedCards","useRef","current","includes","prevState","prevScore","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.622629b9.chunk.js","sourcesContent":["import React from 'react';\nimport './Header.css';\n\nconst Header = (props) => {\n  return (\n    <div className=\"header\">\n      <h1>{props.title}</h1>\n    </div>\n  );\n};\n\nexport default Header;\n","import './Card.css';\n\nconst Card = ({ imageURL, cardName, id, onCardClick }) => {\n  return (\n    <figure className=\"game-card\" onClick={() => onCardClick(id)}>\n      <img src={imageURL} alt={cardName} />\n    </figure>\n  );\n};\n\nexport default Card;\n","import { useEffect, useState, useRef } from 'react';\r\nimport { useHttp } from '../hooks/http';\r\nimport Card from '../Card/Card';\r\nimport './Board.css'\r\n\r\nconst shuffle = (array) => {\r\n  const newArray = [...array];\r\n  for (let i = newArray.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];\r\n  }\r\n  return newArray;\r\n};\r\n\r\nconst randomArray = (array, desiredLength) => {\r\n  return shuffle(array).slice(0, desiredLength);\r\n};\r\n\r\nconst Board = () => {\r\n  const [score, setScore] = useState(0);\r\n  const [highScore, setHighScore] = useState(0);\r\n  const [clickedCards, setClickedCards] = useState([]);\r\n  const [newGameCount, setNewGameCount] = useState(0);\r\n  const numberOfCards = 18;\r\n  const prevClickedCards = useRef();\r\n\r\n  useEffect(() => {\r\n    prevClickedCards.current = clickedCards;\r\n  });\r\n\r\n  useEffect(() => {\r\n    const resetAll = () => {\r\n      if (score > highScore) {\r\n        setHighScore(score);\r\n      }\r\n      setScore(0);\r\n      setClickedCards([]);\r\n    };\r\n    resetAll();\r\n  }, [newGameCount]);\r\n\r\n  const handleClick = (id) => {\r\n    if (!prevClickedCards.current.includes(id)) {\r\n      setClickedCards((prevState) => [...prevState, id]);\r\n      setScore((prevScore) => prevScore + 1);\r\n    } else {\r\n      console.log('you lose!');\r\n      setNewGameCount((prevState) => prevState + 1 );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"board\">\r\n      <ScoreBoard score={score} highScore={highScore} />\r\n      <GameBoard\r\n        onCardClick={handleClick}\r\n        newGameCount={newGameCount}\r\n        clickedCards={clickedCards}\r\n        numberOfCards={numberOfCards}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ScoreBoard = ({ score, highScore }) => {\r\n  return (\r\n    <div className=\"scoreboard\">\r\n      <h3>\r\n        Score: {score} High Score: {highScore}\r\n      </h3>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst GameBoard = ({ onCardClick, newGameCount, numberOfCards }) => {\r\n  const [isLoading, fetchedData] = useHttp(null, []);\r\n  const [gameCards, setGameCards] = useState(null);\r\n\r\n\r\n  console.log(isLoading)\r\n\r\n  useEffect(() => {\r\n    if (fetchedData && !isLoading) {\r\n      const cards = randomArray(fetchedData.data, numberOfCards);\r\n      setGameCards(\r\n        cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card.id}\r\n              imageURL={card.card_images[0].image_url_small}\r\n              cardName={card.name}\r\n              id={card.id}\r\n              onCardClick={onCardClick}\r\n            />\r\n          );\r\n        })\r\n      );\r\n    } else if (isLoading){\r\n      setGameCards(null)\r\n    }\r\n  }, [isLoading, newGameCount]);\r\n\r\n  let content = <div className='loading'>Loading...</div>;\r\n\r\n  if (!isLoading && gameCards) {\r\n    content = shuffle(gameCards);\r\n  }\r\n\r\n  return <div className=\"game-board\">{content}</div>;\r\n};\r\n\r\nexport default Board;\r\n","import { useEffect, useState } from 'react';\r\n\r\nexport const useHttp = (url, dependencies) => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [fetchData, setFetchedData] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    fetch('https://db.ygoprodeck.com/api/v7/cardinfo.php?cardsetocg=Vol.1')\r\n      .then((response) => {\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch.');\r\n        }\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        setFetchedData(data);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n        setIsLoading(false);\r\n      });\r\n  }, dependencies);\r\n\r\n  return [isLoading, fetchData];\r\n};\r\n","import './App.css';\r\nimport Header from './components/Header/Header';\r\nimport Board from './components/Board/Board';\r\n\r\nconst App = () => {\r\n  const mainTitle = 'Memory Game';\r\n\r\n  return (\r\n    <div className=\"main-app\">\r\n      <Header title={mainTitle} />\r\n      <Board />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}