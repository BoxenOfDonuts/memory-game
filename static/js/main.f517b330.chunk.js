(this["webpackJsonpmemory-game"]=this["webpackJsonpmemory-game"]||[]).push([[0],{12:function(e,c,t){},13:function(e,c,t){},14:function(e,c,t){},16:function(e,c,t){"use strict";t.r(c);var n=t(1),r=t.n(n),a=t(7),o=t.n(a),i=(t(12),t(2)),s=t(6),u=(t(13),t(14),t(0)),l=function(e){return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)("h1",{children:e.title})})},j=function(e){var c=Object(n.useState)(0),t=Object(i.a)(c,2),r=t[0],a=t[1],o=Object(n.useState)(0),l=Object(i.a)(o,2),j=l[0],b=l[1],O=Object(n.useState)([]),m=Object(i.a)(O,2),h=m[0],g=m[1],v=Object(n.useState)(!1),x=Object(i.a)(v,2),p=x[0],C=x[1],S=Object(n.useRef)();Object(n.useEffect)((function(){S.current=h})),Object(n.useEffect)((function(){p&&(console.log("is new game udpated"),r>j&&b(r),a(0),g([]),C(!1))}),[p]);return Object(u.jsxs)("div",{className:"board",children:[Object(u.jsx)(d,{score:r,highScore:j}),Object(u.jsx)(f,{onCardClick:function(e){console.log("handle click ".concat(S.current)),S.current.includes(e)?(console.log("you lose!"),C(!0)):(g((function(c){return[].concat(Object(s.a)(c),[e])})),a((function(e){return e+1})))},isNewGame:p,clickedCards:h,numberOfCards:18})]})},d=function(e){var c=e.score,t=e.highScore;return Object(u.jsx)("div",{className:"scoreboard",children:Object(u.jsxs)("h3",{children:["Score: ",c," High Score: ",t]})})},f=function(e){var c=e.onCardClick,t=e.isNewGame,r=e.numberOfCards,a=function(e,c){var t=Object(n.useState)(!1),r=Object(i.a)(t,2),a=r[0],o=r[1],s=Object(n.useState)(null),u=Object(i.a)(s,2),l=u[0],j=u[1];return Object(n.useEffect)((function(){o(!0),fetch("https://db.ygoprodeck.com/api/v7/cardinfo.php?cardsetocg=Vol.1").then((function(e){if(!e.ok)throw new Error("Failed to fetch.");return e.json()})).then((function(e){j(e),o(!1)})).catch((function(e){console.log(e),o(!1)}))}),c),[a,l]}(0,[t]),o=Object(i.a)(a,2),l=o[0],j=o[1],d=Object(n.useState)(null),f=Object(i.a)(d,2),O=f[0],m=f[1];console.log("loading ".concat(l)),Object(n.useEffect)((function(){if(console.log("mounting!"),j){var e=function(e,c){var t=Math.floor(Math.random()*(e-c));return[t,t+c]}(j.data.length,r),t=Object(i.a)(e,2),n=t[0],a=t[1];m(j.data.slice(n,a).map((function(e){return Object(u.jsx)(b,{imageURL:e.card_images[0].image_url_small,cardName:e.name,id:e.id,onCardClick:c},e.id)})))}}),[l]);var h=Object(u.jsx)("div",{children:"Loading..."});return l||t||!O||(h=function(e){console.log("shufflin");for(var c=Object(s.a)(e),t=c.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[c[n],c[t]];c[t]=r[0],c[n]=r[1]}return c}(O)),Object(u.jsx)("div",{className:"game-board",children:h})},b=function(e){var c=e.imageURL,t=e.cardName,n=e.id,r=e.onCardClick;return Object(u.jsx)("figure",{className:"game-card",onClick:function(){return r(n)},children:Object(u.jsx)("img",{src:c,alt:t})})},O=function(){return Object(n.useEffect)((function(){}),[]),Object(u.jsxs)("div",{className:"main-app",children:[Object(u.jsx)(l,{title:"Memory Game"}),Object(u.jsx)(j,{})]})};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(O,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f517b330.chunk.js.map